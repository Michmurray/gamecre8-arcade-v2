<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>GameCre8 — Play</title>
<style>
  :root { --fg:#0b0b0f; --line:#e5e7eb; --ui:#f7f7f9; }
  *{box-sizing:border-box}
  body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#fff; color:var(--fg); }
  header { padding:10px 12px; border-bottom:1px solid var(--line); display:flex; gap:8px; align-items:center; }
  header input { flex:1; padding:8px 10px; font-size:14px; border:1px solid var(--line); border-radius:10px; }
  header button { padding:8px 12px; font-size:14px; border:1px solid var(--line); border-radius:10px; background:var(--ui); cursor:pointer }
  #hud { position:fixed; left:10px; top:58px; background:rgba(255,255,255,.9); border:1px solid var(--line); padding:8px 10px; border-radius:10px; font-size:12px; }
  #toast { position:fixed; left:50%; transform:translateX(-50%); bottom:18px; background:#111; color:#fff; padding:8px 12px; border-radius:10px; font-size:12px; opacity:0; transition:.2s; }
  #toast.show { opacity:1 }
  canvas { display:block; width:100vw; height:calc(100vh - 50px); }
</style>
<body>
  <header>
    <input id="prompt" placeholder="Describe a game… (e.g., create a ninja platformer)">
    <button id="playBtn">Play</button>
    <button id="shareBtn" title="Share link">Share</button>
    <button id="copyBtn" title="Copy link">Copy Link</button>
    <button id="home" onclick="location.href='/'">Home</button>
  </header>
  <div id="hud">Loading…</div>
  <div id="toast">Copied!</div>
  <canvas id="c"></canvas>

<script>
/* --- URL + UI --- */
const qs = new URLSearchParams(location.search);
const promptInput = document.getElementById('prompt');
promptInput.value = qs.get('prompt') || '';

const hud = document.getElementById('hud');
const toast = document.getElementById('toast');
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d', { alpha: false });

document.getElementById('playBtn').onclick = () => {
  const p = promptInput.value.trim();
  location.href = `./play.html?prompt=${encodeURIComponent(p||'hello')}`;
};
promptInput.addEventListener('keydown', e => {
  if (e.key === 'Enter') document.getElementById('playBtn').click();
});

/* Share/Copy link helpers */
function shareUrl() {
  const p = encodeURIComponent(promptInput.value || 'hello');
  return `${location.origin}${location.pathname}?prompt=${p}`;
}
document.getElementById('copyBtn').onclick = async () => {
  try {
    await navigator.clipboard.writeText(shareUrl());
    toast.textContent = 'Link copied';
  } catch {
    toast.textContent = 'Select & copy: ' + shareUrl();
  }
  showToast();
};
document.getElementById('shareBtn').onclick = async () => {
  const url = shareUrl();
  const text = `Play my GameCre8 idea: ${promptInput.value || 'hello'}`;
  if (navigator.share) {
    try { await navigator.share({ title: 'GameCre8', text, url }); }
    catch {}
  } else {
    aw
